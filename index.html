<!doctype html>
<body>
<h1>Welcome — accept Terms then Sign in</h1>


<p>
<a href="terms.html" target="_blank">Read Terms & Conditions</a>
</p>


<label>
<input id="termsCheck" type="checkbox" /> I accept the Terms and Conditions
</label>
<br/><br/>


<button id="showSignButtons">Accept & Continue</button>


<div id="signButtons" style="display:none;margin-top:20px">
<p>Choose a sign-in method:</p>
<button id="emailSign">Sign up / Sign in with Email</button>
<button id="googleSign">Sign in with Google</button>
</div>


<script>
// --- REPLACE THESE with your values ---
const COGNITO_DOMAIN = '<YOUR_COGNITO_DOMAIN>'; // example: mypool.auth.us-east-1.amazoncognito.com
const CLIENT_ID = '<YOUR_APP_CLIENT_ID>';
const AMPLIFY_REDIRECT = '<YOUR_AMPLIFY_APP_URL>/callback.html'; // example: https://master.d2abc123.amplifyapp.com/callback.html
// --------------------------------------


function buildHostedUILoginUrl(useGoogle=false){
const base = useGoogle
? `https://${COGNITO_DOMAIN}/oauth2/authorize` // we use authorize so we can pass identity_provider param
: `https://${COGNITO_DOMAIN}/login`;


const params = new URLSearchParams();
params.set('response_type','token'); // implicit flow (SPA) — easiest to set up
params.set('client_id', CLIENT_ID);
params.set('redirect_uri', AMPLIFY_REDIRECT);
params.set('scope', 'openid+email+profile');
if(useGoogle) params.set('identity_provider','Google');


return `${base}?${params.toString()}`;
}


document.getElementById('showSignButtons').onclick = function(){
const c = document.getElementById('termsCheck');
if(!c.checked){ alert('Please accept Terms first.'); return; }
document.getElementById('signButtons').style.display='block';
}


document.getElementById('emailSign').onclick = function(){
window.location = buildHostedUILoginUrl(false);
}
document.getElementById('googleSign').onclick = function(){
window.location = buildHostedUILoginUrl(true);
}
</script>
</body>
</html>
